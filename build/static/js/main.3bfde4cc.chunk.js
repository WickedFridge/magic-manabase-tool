(this["webpackJsonpreact-firestore"]=this["webpackJsonpreact-firestore"]||[]).push([[0],{104:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),i=(t(82),t(83),t(14)),l=t(4),s=t(150),u=t(164),m=Object(l.a)({root:{width:"50ch","& label.Mui-focused":{color:"green"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"orange"},"&:hover fieldset":{borderColor:"yellow"},"&.Mui-focused fieldset":{borderColor:"green"}}}})(u.a),d=Object(s.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},input:{color:"lightgrey",fontSize:15}}}));function p(e){var a=d();return r.a.createElement("form",{className:a.root,noValidate:!0},r.a.createElement(m,{className:a.margin,label:"Decklist",variant:"outlined",id:"custom-css-outlined-input",multiline:!0,value:e.value,onChange:e.onChange,color:"secondary",rows:28,InputProps:{className:a.input},InputLabelProps:{className:a.input}}))}var k=t(152),h=t(47),f=t(46),g=t(151),b=Object(l.a)((function(e){return{root:{"&$disabled":{backgroundColor:h.a[900]},color:e.palette.getContrastText(f.a[800]),backgroundColor:f.a[800],"&:hover":{backgroundColor:g.a[700]}},disabled:{}}}))(k.a),E=Object(s.a)((function(e){return{root:{margin:e.spacing(1)}}}));function v(e){var a=E();return r.a.createElement("div",null,r.a.createElement(b,{variant:"contained",color:"primary",onClick:e.onClick,disabled:e.disabled,classes:{root:a.root,disabled:a.disabled}},"Submit"))}var y=t(161),C=t(149),w=t(66),N=t(163),O=t(162),j=t(165),S=t(157),x=t(159),D=t(153),R=t(156),M=t(158),T=t(154),G=t(45),I=t(155),A=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:13,color:e.palette.grey}}}))(D.a),B=Object(l.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(T.a),W=Object(s.a)({table:{maxWidth:"70%",maxHeight:400},row:{maxHeight:"10px"}}),z=function(e){var a,t=parseInt(e);return t<50?{backgroundColor:G.a[800]}:([[60,I.a[300]],[70,I.a[400]],[75,I.a[500]],[80,I.a[600]],[85,I.a[700]],[90,I.a[800]],[95,I.a[900]]].forEach((function(e){var n=Object(i.a)(e,2),r=n[0],o=n[1];t>=r&&(a=o)})),{backgroundColor:a})};function L(e){var a=W();return r.a.createElement(R.a,{className:a.table,component:C.a},r.a.createElement(S.a,{size:"small","aria-label":"customized table"},r.a.createElement(M.a,null,r.a.createElement(T.a,null,r.a.createElement(A,{align:"left"},"Card"),r.a.createElement(A,{align:"center"},"Ratio"))),r.a.createElement(x.a,{className:a.data},e.rows.map((function(e){return r.a.createElement(B,{className:a.row,key:e.key,style:z(e.ratio)},r.a.createElement(A,{className:a.row,component:"th",scope:"row",align:"left"},e.key),r.a.createElement(A,{align:"center"},e.ratio))})))))}var P=t(160),H=t(65),q=t.n(H),U={name:"production",backendUrl:"https://europe-west2-project-manabase.cloudfunctions.net/decklist/analyze"},F={name:"default",backendUrl:"http://localhost:5001/project-manabase/europe-west2/decklist/analyze"};Object.entries(U).forEach((function(e){var a=Object(i.a)(e,2),t=a[0],n=a[1];F[t]=n}));var V=F,J=t(167),K=t(166);function $(e){var a=e.querysuccess?["success",e.successmessage]:["error",e.errormessage],t=Object(i.a)(a,2),n=t[0],o=t[1];return r.a.createElement(K.a,Object.assign({elevation:6,variant:"filled",severity:n},e),o)}var Q=Object(s.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function X(e){var a=Q();return r.a.createElement("div",{className:a.root},r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:6e3,onClose:e.handleClose},r.a.createElement($,{onClose:e.handleClose,querysuccess:e.querysuccess,successmessage:e.successmessage,errormessage:e.errormessage})))}var Y=function(e){return Object.entries(e).map((function(e){var a=Object(i.a)(e,2);return{key:a[0],ratio:a[1].ratio}})).sort((function(e,a){return parseFloat(e.ratio)-parseFloat(a.ratio)}))},Z=Y({"Baleful Strix":{ok:4692,nok:236,ratio:"95.21%"},"Imperial Recruiter":{ok:0,nok:4823,ratio:"0.00%"},"Midnight Reaper":{ok:4807,nok:16,ratio:"92.67%"},Ophiomancer:{ok:4807,nok:16,ratio:"88.67%"},"Bone Shredder":{ok:4807,nok:16,ratio:"79.67%"},"Glen Elendra Archmage":{ok:4242,nok:126,ratio:"81.12%"},"Emrakul, The Promised End":{ok:3002,nok:1,ratio:"99.97%"},"The Scarab God":{ok:2946,nok:57,ratio:"98.10%"},"Grave Titan":{ok:4995,nok:10,ratio:"71.80%"},Duplicant:{ok:5005,nok:0,ratio:"64.00%"},"Vampiric Tutor":{ok:4872,nok:56,ratio:"98.86%"},"Inquisition of Kozilek":{ok:4872,nok:56,ratio:"98.86%"},"Collective Brutality":{ok:4902,nok:26,ratio:"99.47%"},Bitterblossom:{ok:4902,nok:26,ratio:"99.47%"},Exhume:{ok:4902,nok:26,ratio:"99.47%"},"Chart a Course":{ok:4718,nok:210,ratio:"95.74%"},"Thought Erasure":{ok:4692,nok:236,ratio:"95.21%"},"Recurring Nightmare":{ok:4807,nok:16,ratio:"99.67%"},"Liliana of the Veil":{ok:4557,nok:266,ratio:"94.48%"},"Compulsive Research":{ok:4641,nok:182,ratio:"96.23%"},"Birthing Pod":{ok:0,nok:4368,ratio:"0.00%"},"Mystic Confluence":{ok:2457,nok:546,ratio:"81.82%"},"Living Death":{ok:2952,nok:51,ratio:"98.30%"}}),_=Object(s.a)((function(e){return{root:{width:"130vh"},paper:{padding:e.spacing(2),textAlign:"center",color:h.a[700],backgroundColor:"#1b222b"},circular:{color:h.a[700]}}})),ee=Object(w.a)({palette:{type:"dark"}});function ae(){var e=_(),a=r.a.useState(!1),t=Object(i.a)(a,2),n=t[0],o=t[1],c=r.a.useState(Z),l=Object(i.a)(c,2),s=l[0],u=l[1],m=r.a.useState("Deck\n4 Cavalier of Thorns (M20) 167\n4 Hydroid Krasis (RNA) 183\n2 Polukranos, Unchained (THB) 224\n4 Uro, Titan of Nature's Wrath (THB) 229\n3 Nissa, Who Shakes the World (WAR) 169\n3 Aether Gust (M20) 42\n3 Casualties of War (WAR) 187\n4 Growth Spiral (RNA) 178\n4 Thought Erasure (GRN) 206\n4 Breeding Pool (RNA) 246\n4 Fabled Passage (ELD) 244\n4 Forest (ELD) 266\n2 Island (ELD) 254\n4 Overgrown Tomb (GRN) 253\n1 Swamp (ELD) 258\n3 Temple of Malady (M20) 254\n3 Temple of Mystery (M20) 255\n4 Watery Grave (GRN) 259\nSideboard\n1 Aether Gust (M20) 42\n1 Cry of the Carnarium (RNA) 70\n1 Disdainful Stroke (GRN) 37\n2 Disfigure (M20) 95\n2 Epic Downfall (ELD) 85\n2 Mystical Dispute (ELD) 58\n1 Negate (RIX) 44\n3 Ritual of Soot (GRN) 84\n1 Thought Distortion (M20) 117\n1 Vraska, Golgari Queen (GRN) 213"),d=Object(i.a)(m,2),k=d[0],h=d[1],f=r.a.useState(!1),g=Object(i.a)(f,2),b=g[0],E=g[1],w=r.a.useState(!0),S=Object(i.a)(w,2),x=S[0],D=S[1],R=r.a.useState(!0),M=Object(i.a)(R,2),T=M[0],G=M[1];return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{theme:ee},r.a.createElement(X,{open:b,handleClick:function(){E(!0)},handleClose:function(e,a){"clickaway"!==a&&E(!1)},querysuccess:x,successmessage:"Success !",errormessage:T}),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(C.a,{className:e.paper},r.a.createElement("p",null,"Paste your decklist in the field below then press Submit"))),r.a.createElement(y.a,{item:!0,xs:4},r.a.createElement(C.a,{className:e.paper},r.a.createElement(p,{value:k,onChange:function(e){return h(e.target.value)}}))),r.a.createElement(y.a,{item:!0,xs:8},r.a.createElement(y.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch",spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(C.a,{className:e.paper},r.a.createElement(j.a,{style:{height:"53.25vh"},display:"flex",alignItems:"center"},r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},n?r.a.createElement(O.a,{in:n,style:{transitionDelay:"500ms"},unmountOnExit:!0},r.a.createElement(N.a,{className:e.circular,size:100,thickness:2})):r.a.createElement(O.a,{in:!n,unmountOnExit:!0,style:{transitionDelay:"500ms"}},r.a.createElement(L,{rows:s})))))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(C.a,{className:e.paper},r.a.createElement(v,{onClick:function(){o(!0);var e={deck:k.split("\n").filter((function(e){return!!e&&"Sideboard"!==e&&"Deck"!==e})).map((function(e){return e.split("(")[0]}))};console.log(e),q()({method:"post",url:V.backendUrl,data:e}).then((function(e){o(!1),u(Y(e.data)),E(!0),D(!0)})).catch((function(e){o(!1),E(!0),D(!1),G(e.response.data.error)}))},disabled:n}))))))))}var te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Project Manabase"),r.a.createElement("h4",null,r.a.createElement("a",{href:"https://twitter.com/wickedfridge"},"By Charles Wickham"))),r.a.createElement(ae,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,a,t){e.exports=t(104)},82:function(e,a,t){},83:function(e,a,t){}},[[77,1,2]]]);
//# sourceMappingURL=main.3bfde4cc.chunk.js.map